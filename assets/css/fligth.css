:root{ --accent:#6c63ff; --accent2:#8b5cf6; --bg:#f7f8fb; --text:#1f2937; --muted:#6b7280; --card:#fff; --border:#eef0f4; --radius:18px; --good:#10b981; --fast:#06b6d4; --cheap:#f59e0b; }
*{ box-sizing:border-box }
body{ font-family:"Plus Jakarta Sans",system-ui,-apple-system,Segoe UI,Roboto,Arial; background:var(--bg); color:var(--text); margin:0; }

.page{ max-width:1200px; margin:0 auto; padding:24px 16px 40px; }

.hero{ padding:6px 0 12px; background: radial-gradient(1100px 520px at 85% -120px, rgba(108,99,255,.22), transparent), radial-gradient(900px 420px at 10% -140px, rgba(139,92,246,.18), transparent); }
.title{ font-size:28px; font-weight:700; margin:4px 0 8px; }
.subtitle{ color:var(--muted); }

.search-card{ background:var(--card); border:1px solid var(--border); border-radius:var(--radius); box-shadow:0 12px 36px rgba(17,24,39,.08); padding:16px; }
.trip-tabs .btn{ border-radius:999px; }
.swap-btn{ border-radius:12px; }

.layout{ display:grid; grid-template-columns: 1.15fr .85fr; gap:18px; align-items:start; margin-top:14px; }
.panel{ background:var(--card); border:1px solid var(--border); border-radius:var(--radius); box-shadow:0 8px 30px rgba(17,24,39,.06); }

.results{ padding:12px; }
.sortbar{ display:flex; align-items:center; justify-content:space-between; gap:10px; padding:8px 6px 12px; position:sticky; top:-1px; background:var(--card); z-index:5; border-bottom:1px dashed var(--border); border-top-left-radius:var(--radius); border-top-right-radius:var(--radius); }
.view-toggle .btn{ border-radius:999px; }

.cards{ display:grid; grid-template-columns:1fr; gap:12px; }
.flight-card{ border:1px solid var(--border); border-radius:18px; overflow:hidden; background:var(--card); box-shadow:0 12px 36px rgba(17,24,39,.06); transition: transform .15s ease, box-shadow .2s ease; }
.flight-card:hover{ transform: translateY(-2px); box-shadow:0 16px 44px rgba(17,24,39,.09); }
.flight-photo{ position:relative; height:180px; overflow:hidden; }
.flight-photo img{ width:100%; height:100%; object-fit:cover; transform:scale(1.04); transition: transform .3s ease; }
.flight-card:hover .flight-photo img{ transform:scale(1.08); }
.flight-photo::after{ content:""; position:absolute; inset:0; background:linear-gradient(180deg, rgba(0,0,0,.00), rgba(0,0,0,.25)); }
.flight-badge{ position:absolute; top:12px; left:12px; background:rgba(255,255,255,.9); padding:.25rem .55rem; border-radius:999px; font-size:.75rem; font-weight:700; border:1px solid var(--border); backdrop-filter: blur(4px); }
.price-tag{ position:absolute; bottom:12px; right:12px; background:rgba(15,23,42,.9); color:#fff; padding:.35rem .6rem; border-radius:12px; font-weight:700; display:flex; align-items:center; gap:.35rem; }

.flight-body{ display:grid; grid-template-columns: 1.2fr 1fr .9fr; gap:14px; padding:14px; align-items:center; }
.airline{ display:flex; align-items:center; gap:10px; }
.airline .logo{ width:40px; height:40px; border-radius:12px; background:linear-gradient(135deg,var(--accent),var(--accent2)); display:grid; place-items:center; color:#fff; font-weight:700; }

.timeline{ display:flex; align-items:center; gap:10px; position:relative; }
.dot{ width:8px; height:8px; border-radius:999px; background:#94a3b8; }
.line{ flex:1; height:2px; background:#e2e8f0; position:relative; }
.line::after{ content:""; position:absolute; left:0; top:-3px; height:8px; width:40%; background:linear-gradient(90deg, var(--accent), transparent); border-radius:4px; opacity:.5; }

.chip{ padding:.25rem .5rem; border-radius:999px; font-size:.72rem; font-weight:700; border:1px solid currentColor; }
.chip.best{ color:var(--good); }
.chip.fast{ color:var(--fast); }
.chip.cheap{ color:var(--cheap); }

#map{ height:420px; border-radius:16px; }
.filters{ padding:14px; }
.filters-grid{ display:grid; grid-template-columns: 1fr 1fr; gap:10px; }
.chips{ display:flex; flex-wrap:wrap; gap:6px; }
.chips .btn{ border-radius:999px; }

.skeleton{ animation:pulse 1.1s ease-in-out infinite; background:linear-gradient(90deg,#eee,#f4f4f4,#eee); background-size:200% 100%; border-radius:16px; height:94px; }
@keyframes pulse{ 0%{background-position:200% 0} 100%{background-position:-200% 0} }

.pro-strip{ background:linear-gradient(135deg, rgba(108,99,255,.12), rgba(139,92,246,.12)); border:1px dashed rgba(108,99,255,.35); border-radius:16px; margin:14px 0; }

.refine-fab{ position:fixed; right:16px; bottom:16px; border-radius:999px; box-shadow:0 10px 24px rgba(0,0,0,.18); }

.dark{ --bg:#0b1020; --text:#e6e7ee; --muted:#98a2b3; --card:#0f162b; --border:#1e2a4a; }
.dark .hero{ background: radial-gradient(1100px 520px at 85% -120px, rgba(108,99,255,.20), transparent), radial-gradient(900px 420px at 10% -140px, rgba(139,92,246,.18), transparent); }
.dark .flight-card{ background:linear-gradient(180deg, rgba(15,22,43,0.9), rgba(15,22,43,0.92)); }

:root[data-trip="round"] .rt-hint{ display:inline !important; }

@media (max-width: 1100px){
  .layout{ grid-template-columns:1fr; }
  #map{ height:360px; }
  .flight-body{ grid-template-columns: 1fr; gap:10px; }
  .flight-photo{ height:160px; }
}
