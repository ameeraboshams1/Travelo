<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Travelo Â· FAQs</title>

    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;700;800&display=swap" rel="stylesheet">
 <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">

  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    rel="stylesheet"
  />
  <link rel="stylesheet" href="./assets/css/faqs.css">
  <style>
    /* =========================
   Ask AI Floating Button + Bubble
   ========================= */

.ask-ai-btn{
  position: fixed;
  left: 22px;
  bottom: 40px;
  width: 60px;
  height: 60px;
  border: 0;
  border-radius: 999px;
  cursor: pointer;
  z-index: 99999;

  display: flex;
  align-items: center;
  justify-content: center;

  background: radial-gradient(circle at 30% 25%, rgba(255,255,255,.35), transparent 40%),
              linear-gradient(135deg, #7c3aed, #6c63ff);
  box-shadow: 0 16px 40px rgba(124,58,237,.35);
  transition: transform .18s ease, box-shadow .18s ease, filter .18s ease;

  overflow: visible;   /* Ù…Ù‡Ù… Ù„Ù„Ø¨Ø§Ø¨Ù„ */
  padding: 0;
}

.ask-ai-btn i{
  font-size: 24px;
  color: #fff;
  line-height: 1;
  filter: drop-shadow(0 6px 10px rgba(0,0,0,.18));
}

.ask-ai-btn:hover{
  transform: translateY(-2px);
  box-shadow: 0 22px 55px rgba(124,58,237,.45);
  filter: brightness(1.03);
}

/* glow */
.ask-ai-btn::after{
  content:"";
  position:absolute;
  inset:-8px;
  border-radius:999px;
  background: radial-gradient(circle, rgba(124,58,237,.35), transparent 60%);
  opacity: 0;
  transform: scale(.9);
  transition: .25s ease;
  pointer-events: none;
}
.ask-ai-btn:hover::after{
  opacity: 1;
  transform: scale(1);
}

/* bubble */
.ask-ai-bubble{
  position: absolute;
  left: calc(100% + 12px);
  top: 50%;
  transform: translateY(-50%) translateX(-6px);

  background: rgba(124, 58, 237, 0.30);
  color: #0f172a;
  padding: 10px 12px;
  border-radius: 999px;
  font-weight: 800;
  font-size: 13px;
  white-space: nowrap;

  box-shadow: 0 14px 30px rgba(15,23,42,.18);
  opacity: 0;
  pointer-events: none;
  transition: .2s ease;
}

.ask-ai-bubble::before{
  content:"";
  position:absolute;
  left:-6px;
  top:50%;
  width:10px;
  height:10px;
  background: rgba(124, 58, 237, 0.30);
  transform: translateY(-50%) rotate(45deg);
  border-radius: 2px;
}

.ask-ai-btn:hover .ask-ai-bubble,
.ask-ai-btn:focus-visible .ask-ai-bubble{
  opacity: 1;
  transform: translateY(-50%) translateX(0);
}

.ask-ai-bubble{ opacity:0 !important; }
.ask-ai-btn:hover .ask-ai-bubble{ opacity:1 !important; }

  </style>
</head>
<body>
  
    <header class="topbar">
    <div class="container topbar-row">
      <a class="brand" href="index.php" aria-label="Go to Travelo home">
        <img src="./assets/images/logo.svg" alt="Travelo" class="logo">
        <span>Travelo</span>
      </a>
      <div class="top-actions">
        <button id="scrollTop" class="chip ghost" aria-label="Back to top" title="Back to top">â†‘</button>
      </div>
    </div>
    <div class="glow"></div>
  </header>

  <main class="container layout">
        <aside class="sidebar" aria-label="FAQ sections">
      <div class="side-box">
        <h3>Sections</h3>
        <nav id="sideNav" class="side-nav">
          <a href="#Booking"  class="side-link">Booking</a>
          <a href="#Payments" class="side-link">Payments</a>
          <a href="#Flights"  class="side-link">Flights</a>
          <a href="#Hotels"   class="side-link">Hotels</a>
          <a href="#Changes"  class="side-link">Changes & Refunds</a>
          <a href="#Policies" class="side-link">Travel Policies</a>
          <a href="#Support"  class="side-link">Support & Account</a>
        </nav>
      </div>

      <div class="side-box tips">
        <h3>Quick Tips</h3>
        <ul>
          <li>Try â€œbaggageâ€, â€œrefundâ€, or â€œcheck-inâ€.</li>
          <li>Use tabs to narrow results.</li>
          <li>Click ğŸ”— to copy a direct link.</li>
        </ul>
      </div>
    </aside>

        <section class="content">
            <div class="hero">
        <h1 class="reveal">Frequently Asked Questions</h1>
        <p class="muted reveal-delay">Instant answers about bookings, flights, hotels, payments, and more.</p>
      </div>

            <div class="controls">
        <div class="search-wrap" role="search">
          <input id="searchInput" type="search" placeholder="Search (e.g., baggage, refund, check-in)..." aria-label="Search FAQs">
          <button id="clearSearch" class="ghost" aria-label="Clear search" title="Clear">âœ•</button>
        </div>

        <div class="tabs" role="tablist" aria-label="FAQ categories">
          <button class="tab is-active" role="tab" aria-selected="true" data-category="All">All</button>
          <button class="tab" role="tab" aria-selected="false" data-category="Booking">Booking</button>
          <button class="tab" role="tab" aria-selected="false" data-category="Payments">Payments</button>
          <button class="tab" role="tab" aria-selected="false" data-category="Flights">Flights</button>
          <button class="tab" role="tab" aria-selected="false" data-category="Hotels">Hotels</button>
          <button class="tab" role="tab" aria-selected="false" data-category="Changes">Changes & Refunds</button>
          <button class="tab" role="tab" aria-selected="false" data-category="Policies">Travel Policies</button>
          <button class="tab" role="tab" aria-selected="false" data-category="Support">Support & Account</button>
        </div>

        <div class="bulk-actions">
          <button id="expandAll" class="soft">Expand all</button>
          <button id="collapseAll" class="soft">Collapse all</button>
          <button id="printPage" class="soft ghost">Print</button>
        </div>
      </div>

            <div class="pill-row">
        <span id="resultCount" class="pill muted" aria-live="polite"></span>
        <span id="recentTag" class="pill hidden">Recently viewed</span>
        <span id="popularTag" class="pill">Popular</span>
      </div>

            <div id="Booking"></div>
      <div id="Payments"></div>
      <div id="Flights"></div>
      <div id="Hotels"></div>
      <div id="Changes"></div>
      <div id="Policies"></div>
      <div id="Support"></div>

            <div id="faqList" class="faq-list" role="list"></div>

            <div class="cta">
        <h3>Still need help?</h3>
        <p>Leave us your feedback (saved locally). No login or server needed.</p>
        <div class="cta-actions">
          <button id="openFeedback" class="btn">Send Feedback</button>
        </div>
      </div>

            <div id="feedbackModal" class="modal" aria-hidden="true" role="dialog" aria-modal="true" aria-label="Send feedback">
        <div class="modal-card" role="document">
          <header class="modal-head">
            <h3>Tell us what we can improve</h3>
            <button class="icon-btn" id="closeFeedback" aria-label="Close">âœ•</button>
          </header>
          <div class="modal-body">
            <label class="field">
              <span>Topic (optional)</span>
              <input type="text" id="fbTopic" placeholder="Search, refunds, payments...">
            </label>
            <label class="field">
              <span>Your feedback</span>
              <textarea id="fbText" rows="5" placeholder="Type your message..."></textarea>
            </label>
          </div>
          <footer class="modal-foot">
            <button class="btn ghost" id="downloadFeedback" title="Download saved feedback as CSV">Download CSV</button>
            <div style="flex:1"></div>
            <button class="btn ghost" id="cancelFeedback">Cancel</button>
            <button class="btn" id="sendFeedback">Send</button>
          </footer>
        </div>
      </div>

            <div id="toast" class="toast" role="status" aria-live="polite"></div>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container">
      <p>Â© <span id="year"></span> Travelo. All rights reserved.</p>
    </div>
  </footer>

  <script src="./assets/js/faqs.js"></script>

  <button id="askAiBtn" class="ask-ai-btn" type="button" aria-label="Ask AI">
  <i class="bi bi-airplane-fill" aria-hidden="true"></i>
  <span class="ask-ai-bubble">Ask AI</span>
</button>


<script>
(() => {
  const AGENT_ID = "019b189a507c7f0e98a0580ad136880f79ad";
  const SRC = `https://cdn.jotfor.ms/agent/embedjs/${AGENT_ID}/embed.js`;

  function loadWidget(){
    return new Promise((resolve, reject) => {
      // Ù„Ùˆ Ù…Ø­Ù…Ù‘Ù„ Ù‚Ø¨Ù„ Ù„Ø§ ØªØ¹ÙŠØ¯ÙŠÙ‡
      if (document.querySelector(`script[src="${SRC}"]`)) return resolve();

      const s = document.createElement("script");
      s.src = SRC;
      s.async = true;
      s.onload = resolve;
      s.onerror = () => reject(new Error("Failed to load widget"));
      document.body.appendChild(s);
    });
  }

  function openLauncherWhenReady(timeoutMs = 8000){
    return new Promise((resolve) => {
      const start = Date.now();

      const tryOpen = () => {
        // Ù„Ø§Ù†Ø´Ø± Jotform (Ø¬Ø±Ø¨ÙŠ Ø¹Ø¯Ø© Ø³Ù„ÙƒØªØ±Ø§Øª)
        const launcher =
          document.querySelector('button[aria-label*="Ask AI" i]') ||
          document.querySelector('button[aria-label*="Chat" i]') ||
          document.querySelector('[data-testid*="launcher" i]') ||
          document.querySelector('.jotform-ai-launcher, .agent-launcher, .chat-launcher');

        if (launcher) { launcher.click(); resolve(true); return true; }

        if (Date.now() - start > timeoutMs) { resolve(false); return true; }
        return false;
      };

      if (tryOpen()) return;

      const obs = new MutationObserver(() => {
        if (tryOpen()) obs.disconnect();
      });
      obs.observe(document.documentElement, { childList:true, subtree:true });
    });
  }

  document.addEventListener("DOMContentLoaded", () => {
    const btn = document.getElementById("askAiBtn");
    if (!btn) return;

    btn.addEventListener("click", async () => {
      // âœ… Ø§Ø®ÙÙŠ Ø²Ø±Ù‘Ùƒ ÙÙˆØ±Ù‹Ø§ Ø¨Ø¹Ø¯ Ø£ÙˆÙ„ ÙƒØ¨Ø³Ø©
      btn.style.display = "none";

      try{
        await loadWidget();           // âœ… Ø­Ù…Ù‘Ù„ÙŠ Ø§Ù„Ø´Ø§Øª Ø¨ÙˆØª Ø§Ù„Ø¢Ù† (ÙƒØ§Ù† Ù…Ø®ÙÙŠ Ù‚Ø¨Ù„)
        await openLauncherWhenReady(); // âœ… Ø§ÙØªØ­ÙŠÙ‡ ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§
      }catch(e){
        console.error(e);
        // Ù„Ùˆ ØµØ§Ø± Ø®Ø·Ø£ØŒ Ø±Ø¬Ù‘Ø¹ÙŠ Ø§Ù„Ø²Ø± Ø­ØªÙ‰ Ù…Ø§ ÙŠØ®ØªÙÙŠ Ø¹Ù„Ù‰ Ø§Ù„ÙØ§Ø¶ÙŠ
        btn.style.display = "";
        alert("AI widget failed to load.");
      }
    }, { once:true }); // âœ… ÙŠÙ…Ù†Ø¹ ØªØ¹Ø¯Ø¯ Ø§Ù„ÙƒØ¨Ø³/ØªÙƒØ±Ø§Ø±
  });
})();
</script>

</body>
</html>
